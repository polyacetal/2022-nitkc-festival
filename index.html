<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8" />
		<title>釧路高専祭</title>
		<style type="text/css">
			canvas{border: 1px solid black;}
		</style>
	</head>
	<script>
		window.addEventListener('load', eventWindowLoaded, false);
		function eventWindowLoaded(){
			mainApp();
		}

		function mainApp(){
			//canvas オブジェクトの取得
			var canvas = document.getElementById('mycanvas');
			//ブラウザがcanvasに対応してなかったとき
			if(!canvas.getContext){
				return;
			}
			//canvasコンテキストの取得
			var cont = canvas.getContext('2d');

			canvas.addEventListener('click', TouchDraw, false);
			function DrawSquare(x, y){
				cont.fillRect(x, y, 100, 100);
				cont.clearRect(x + 20, y + 20, 60, 60);
				cont.strokeRect(x + 25, y + 25, 50, 50);
			}

			function TouchDraw(e){
				var rect = e.target.getBoundingClientRect();
				var x = e.clientX - rect.left;
				var y = e.clientY - rect.top;

				DrawSquare(x - 50, y - 50);
			}
		}

	</script>
	<body>
		<div id="canvasblock">
			<canvas id="mycanvas" width="800" height="800">
				このブラウザはCanvasに対応していません。
			</canvas>
		</div>
		<div class="button">
		</div>
	</body>
</html>
